(window.webpackJsonp=window.webpackJsonp||[]).push([[95],{588:function(s,t,a){"use strict";a.r(t);var n=a(30),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"一、模块"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一、模块"}},[s._v("#")]),s._v(" 一、模块")]),s._v(" "),a("p",[s._v("在 Python 中，模块是组织代码的一种重要方式。以下是关于 Python 模块的一些关键要点：")]),s._v(" "),a("ol",[a("li",[a("p",[a("strong",[s._v("定义和作用")]),s._v("：模块是一个包含 Python 定义（如函数、类、变量等）和语句的文件，其扩展名为 "),a("code",[s._v(".py")]),s._v("。模块的主要目的是将相关的功能分组在一起，以提高代码的可维护性、可重用性和组织性。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("导入模块")]),s._v("：通过使用 "),a("code",[s._v("import")]),s._v(" 语句，可以将一个模块引入到其他模块或主模块中。例如，"),a("code",[s._v("import math")]),s._v(" 可以导入 Python 内置的数学模块 "),a("code",[s._v("math")]),s._v("。")])]),s._v(" "),a("li",[a("p",[a("code",[s._v("__name__")]),s._v(" 变量：在每个模块内部，都有一个全局变量 "),a("code",[s._v("__name__")]),s._v("。当模块作为主程序直接运行时，"),a("code",[s._v("__name__")]),s._v(" 的值为 "),a("code",[s._v('"__main__"')]),s._v("；当模块被其他模块导入时，"),a("code",[s._v("__name__")]),s._v(" 的值是模块的名称（不包含 "),a("code",[s._v(".py")]),s._v(" 扩展名）。这使得可以在模块中编写一些仅在模块作为主程序运行时执行的代码，通常用于进行模块的自测或示例。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("模块搜索路径")]),s._v("：当 Python 解释器需要导入一个模块时，它会按照一定的顺序在特定的路径中搜索模块。这些路径包括当前目录、Python 标准库的目录以及通过 "),a("code",[s._v("sys.path")]),s._v(" 可以查看和修改的一系列目录。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("命名空间")]),s._v("：导入模块会创建一个新的命名空间，模块中的定义在这个命名空间中可用。这有助于避免不同模块之间的命名冲突。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("模块的优点")]),s._v("：")]),s._v(" "),a("ul",[a("li",[s._v("代码复用：可以在多个项目中重复使用已编写好的模块。")]),s._v(" "),a("li",[s._v("逻辑分离：将不同的功能划分到不同的模块中，使代码结构更清晰。")]),s._v(" "),a("li",[s._v("易于维护：每个模块可以独立进行修改和测试，不影响其他模块。")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("创建自定义模块")]),s._v("：您可以自己创建模块，将相关的功能放在一个 "),a("code",[s._v(".py")]),s._v(" 文件中，然后在其他代码中导入和使用。")])])]),s._v(" "),a("p",[s._v("总之，模块是 Python 编程中组织和管理代码的重要手段，有助于构建大型、可维护的程序。\n模块包含可执行语句及函数定义。这些语句用于初始化模块，且仅在 import 语句 第一次 遇到模块名时执行。[1] (文件作为脚本运行时，也会执行这些语句。)")]),s._v(" "),a("p",[s._v("每个模块都有自己的私有命名空间，它会被用作模块中定义的所有函数的全局命名空间。 因此，模块作者可以在模块内使用全局变量而不必担心与用户的全局变量发生意外冲突。 另一方面，如果你知道要怎么做就可以通过与引用模块函数一样的标记法 modname.itemname 来访问一个模块的全局变量。")]),s._v(" "),a("p",[s._v("模块可以导入其他模块。 根据惯例可以将所有 import 语句都放在模块（或者也可以说是脚本）的开头但这并非强制要求。 如果被放置于一个模块的最高层级，则被导入的模块名称会被添加到该模块的全局命名空间")]),s._v(" "),a("h3",{attrs:{id:"实际项目中使用模块的简单示例"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实际项目中使用模块的简单示例"}},[s._v("#")]),s._v(" 实际项目中使用模块的简单示例")]),s._v(" "),a("p",[s._v("以下是一个在实际项目中使用模块的简单示例。")]),s._v(" "),a("p",[s._v("假设有一个项目，需要处理用户数据和进行数据验证。")]),s._v(" "),a("p",[s._v("创建一个名为 "),a("code",[s._v("user_utils.py")]),s._v(" 的模块，用于处理用户相关的操作：")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# user_utils.py")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("validate_user_data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("not")]),s._v(" name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("raise")]),s._v(" ValueError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Name cannot be empty."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("if")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("or")]),s._v(" age "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("120")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("raise")]),s._v(" ValueError"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Invalid age."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("True")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("在主程序 "),a("code",[s._v("main.py")]),s._v(" 中使用这个模块：")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# main.py")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" user_utils\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("try")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    user_utils"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("validate_user_data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Alice"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("25")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"User data is valid."')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("except")]),s._v(" ValueError "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("print")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string-interpolation"}},[a("span",{pre:!0,attrs:{class:"token string"}},[s._v('f"Error: ')]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("e"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("p",[s._v("在一个 Web 应用项目中，可能会有一个模块专门用于与数据库交互，例如 "),a("code",[s._v("db_operations.py")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# db_operations.py")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" sqlite3\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get_user_data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    conn "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" sqlite3"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("connect"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'my_database.db'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    cursor "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("cursor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    cursor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("execute"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"SELECT * FROM users WHERE id =?"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("user_id"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    data "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" cursor"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("fetchone"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    conn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("close"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" data\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br")])]),a("p",[s._v("然后在应用的其他部分导入并使用这个模块来获取用户数据。")]),s._v(" "),a("p",[s._v("在一个数据处理项目中，可能有一个模块用于数据清洗，例如 "),a("code",[s._v("data_cleaning.py")]),s._v("：")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# data_cleaning.py")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" pandas "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" pd\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("def")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("clean_data")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("dataframe"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 进行数据清洗操作，例如处理缺失值、异常值等")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" cleaned_dataframe\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("p",[s._v("在项目的主流程中导入并使用这个模块来清洗数据。")]),s._v(" "),a("h2",{attrs:{id:"包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#包"}},[s._v("#")]),s._v(" 包")]),s._v(" "),a("p",[s._v("包是通过使用“带点号模块名”来构造 Python 模块命名空间的一种方式。 例如，模块名 A.B 表示名为 A 的包中名为 B 的子模块。 就像使用模块可以让不同模块的作者不必担心彼此的全局变量名一样，使用带点号模块名也可以让 NumPy 或 Pillow 等多模块包的作者也不必担心彼此的模块名冲突。")]),s._v(" "),a("p",[s._v("假设要为统一处理声音文件与声音数据设计一个模块集（“包”）。声音文件的格式很多（通常以扩展名来识别，例如：.wav，.aiff，.au），因此，为了不同文件格式之间的转换，需要创建和维护一个不断增长的模块集合。为了实现对声音数据的不同处理（例如，混声、添加回声、均衡器功能、创造人工立体声效果），还要编写无穷无尽的模块流。下面这个分级文件树展示了这个包的架构：")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("sound"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("                          Top"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("-")]),s._v("level package\n      __init__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py               Initialize the sound package\n      formats"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("                  Subpackage "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("file")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("format")]),s._v(" conversions\n              __init__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              wavread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              wavwrite"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              aiffread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              aiffwrite"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              auread"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              auwrite"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n      effects"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("                  Subpackage "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" sound effects\n              __init__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              echo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              surround"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              reverse"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("\n      filters"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v("                  Subpackage "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" filters\n              __init__"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              equalizer"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              vocoder"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n              karaoke"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("py\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br")])]),a("p",[s._v("导入包时，Python 搜索 sys.path 里的目录，查找包的子目录。")]),s._v(" "),a("p",[s._v("需要有 "),a("strong",[s._v("init")]),s._v(".py 文件才能让 Python 将包含该文件的目录当作包来处理（除非使用 namespace package，这是一个相对高级的特性）。 这可以防止重名的目录如 string 在无意中屏蔽后继出现在模块搜索路径中的有效模块。 在最简单的情况下，"),a("strong",[s._v("init")]),s._v(".py 可以只是一个空文件，但它也可以执行包的初始化代码或设置 "),a("strong",[s._v("all")]),s._v(" 变量，这将在稍后详细描述。")]),s._v(" "),a("p",[s._v("还可以从包中导入单个模块，例如：")]),s._v(" "),a("div",{staticClass:"language-python line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-python"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" sound"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("effects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("echo\n这将加载子模块 sound"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("effects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("echo。 它必须通过其全名来引用。\n\nsound"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("effects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("echo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("echofilter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("input")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" delay"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" atten"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n另一种导入子模块的方法是 ：\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" sound"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("effects "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" echo\n这也会加载子模块 echo，并使其不必加包前缀，因此可按如下方式使用"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\necho"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("echofilter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("input")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" delay"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" atten"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nImport 语句的另一种变体是直接导入所需的函数或变量：\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" sound"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("effects"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("echo "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" echofilter\n同样，这将加载子模块 echo，但这使其函数 echofilter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" 直接可用"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n\nechofilter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token builtin"}},[s._v("input")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" output"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" delay"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.7")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" atten"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n注意，使用 "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" package "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" item 时，item 可以是包的子模块（或子包），\n也可以是包中定义的函数、类或变量等其他名称。"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" 语句首先测试包中是否定义了 item；\n如果未在包中定义，则假定 item 是模块，并尝试加载。如果找不到 item，则触发 ImportError 异常。\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("import")]),s._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subitem"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("subsubitem 句法时，除最后一项外，每个 item 都必须是包；\n最后一项可以是模块或包，但不能是上一项中定义的类、函数或变量。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br")])]),a("h3",{attrs:{id:"_1-从包中导入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-从包中导入"}},[s._v("#")]),s._v(" 1 从包中导入 *")]),s._v(" "),a("p",[s._v("使用 from sound.effects import * 时会发生什么？你可能希望它会查找并导入包的所有子模块，但事实并非如此。因为这将花费很长的时间，并且可能会产生你不想要的副作用，如果这种副作用被你设计为只有在导入某个特定的子模块时才应该发生。")]),s._v(" "),a("p",[s._v("唯一的解决办法是提供包的显式索引。import 语句使用如下惯例：如果包的 "),a("strong",[s._v("init")]),s._v(".py 代码定义了列表 "),a("strong",[s._v("all")]),s._v("，运行 from package import * 时，它就是被导入的模块名列表。发布包的新版本时，包的作者应更新此列表。如果包的作者认为没有必要在包中执行导入 * 操作，也可以不提供此列表。例如，sound/effects/"),a("strong",[s._v("init")]),s._v(".py 文件可以包含以下代码：")]),s._v(" "),a("p",[a("strong",[s._v("all")]),s._v(' = ["echo", "surround", "reverse"]\n这意味着 from sound.effects import * 将导入 sound.effects 包的三个命名子模块。')]),s._v(" "),a("p",[s._v("请注意子模块可能会受到本地定义名称的影响。 例如，如果你在 sound/effects/"),a("strong",[s._v("init")]),s._v(".py 文件中添加了一个 reverse 函数，from sound.effects import * 将只导入 echo 和 surround 这两个子模块，但 不会 导入 reverse 子模块，因为它被本地定义的 reverse 函数所遮挡:")]),s._v(" "),a("p",[a("strong",[s._v("all")]),s._v(" = [\n\"echo\",      # refers to the 'echo.py' file\n\"surround\",  # refers to the 'surround.py' file\n\"reverse\",   # !!! refers to the 'reverse' function now !!!\n]")]),s._v(" "),a("p",[s._v("def reverse(msg: str):  # <-- this name shadows the 'reverse.py' submodule\nreturn msg[::-1]    #     in the case of a 'from sound.effects import *'\n如果没有定义 "),a("strong",[s._v("all")]),s._v("，from sound.effects import * 语句 不会 把包 sound.effects 中的所有子模块都导入到当前命名空间；它只是确保包 sound.effects 已被导入（可能还会运行 "),a("strong",[s._v("init")]),s._v(".py 中的任何初始化代码），然后再导入包中定义的任何名称。 这包括由 "),a("strong",[s._v("init")]),s._v(".py 定义的任何名称（以及显式加载的子模块）。 它还包括先前 import 语句显式加载的包里的任何子模块。 请看以下代码:")]),s._v(" "),a("p",[s._v("import sound.effects.echo\nimport sound.effects.surround\nfrom sound.effects import *\n在本例中，echo 和 surround 模块被导入到当前命名空间，因为在执行 from...import 语句时它们已在 sound.effects 包中定义了。 （当定义了 "),a("strong",[s._v("all")]),s._v(" 时也是如此）。")]),s._v(" "),a("p",[s._v("虽然，可以把模块设计为用 import * 时只导出遵循指定模式的名称，但仍不提倡在生产代码中使用这种做法。")]),s._v(" "),a("p",[s._v("记住，使用 from package import specific_submodule 没有任何问题！ 实际上，除了导入模块使用不同包的同名子模块之外，这种方式是推荐用法。")]),s._v(" "),a("h3",{attrs:{id:"_2-相对导入"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-相对导入"}},[s._v("#")]),s._v(" 2 相对导入")]),s._v(" "),a("p",[s._v("当包由多个子包构成（如示例中的 sound 包）时，可以使用绝对导入来引用同级包的子模块。 例如，如果 sound.filters.vocoder 模块需要使用 sound.effects 包中的 echo 模块，它可以使用 from sound.effects import echo。")]),s._v(" "),a("p",[s._v("你还可以编写相对导入代码，即使用 from module import name 形式的 import 语句。 这些导入使用前导点号来表示相对导入所涉及的当前包和上级包。 例如对于 surround 模块，可以使用:")]),s._v(" "),a("p",[s._v('from . import echo\nfrom .. import formats\nfrom ..filters import equalizer\n注意，相对导入基于当前模块名。因为主模块名永远是 "'),a("strong",[s._v("main")]),s._v('" ，所以如果计划将一个模块用作 Python 应用程序的主模块，那么该模块内的导入语句必须始终使用绝对导入。')]),s._v(" "),a("h3",{attrs:{id:"_3-多目录中的包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-多目录中的包"}},[s._v("#")]),s._v(" 3 多目录中的包")]),s._v(" "),a("p",[s._v("包还支持一个特殊属性 "),a("strong",[s._v("path")]),s._v(" 。在包的 "),a("strong",[s._v("init")]),s._v(".py 中的代码被执行前，该属性被初始化为一个只含一项的列表，该项是一个字符串，是 "),a("strong",[s._v("init")]),s._v(".py 所在目录的名称。可以修改此变量；这样做会改变在此包中搜索模块和子包的方式。")]),s._v(" "),a("p",[s._v("这个功能虽然不常用，但可用于扩展包中的模块集。")])])}),[],!1,null,null,null);t.default=e.exports}}]);