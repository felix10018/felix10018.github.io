(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{627:function(v,_,l){"use strict";l.r(_);var i=l(30),n=Object(i.a)({},(function(){var v=this,_=v.$createElement,l=v._self._c||_;return l("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[l("h3",{attrs:{id:"django的生命周期"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#django的生命周期"}},[v._v("#")]),v._v(" django的生命周期")]),v._v(" "),l("p",[v._v("Django 的请求-响应生命周期是一个复杂但有序的过程，以下是更为详细的介绍：")]),v._v(" "),l("ol",[l("li",[l("p",[v._v("客户端发起请求")]),v._v(" "),l("ul",[l("li",[v._v("客户端（如浏览器）向 Django 应用发送一个 HTTP 请求，请求包含了方法（GET、POST、PUT 等）、URL、头部信息和可能的数据（如在 POST 请求中的表单数据）。")])])]),v._v(" "),l("li",[l("p",[v._v("URL 解析和路由")]),v._v(" "),l("ul",[l("li",[v._v("Django 接收到请求后，首先根据项目根目录下的 urls.py 文件以及各个应用中的 urls.py 文件中的路由规则，对请求的 URL 进行解析和匹配。")]),v._v(" "),l("li",[v._v("通过正则表达式或路径转换器，找到与请求 URL 相匹配的视图函数或视图类的处理路径。")])])]),v._v(" "),l("li",[l("p",[v._v("中间件预处理（请求阶段）")]),v._v(" "),l("ul",[l("li",[v._v("在确定视图处理函数之前，请求会依次通过配置的中间件。")]),v._v(" "),l("li",[v._v("常见的处理包括：\n"),l("ul",[l("li",[v._v("身份验证和授权：检查用户是否有权访问请求的资源。")]),v._v(" "),l("li",[v._v("会话管理：获取或更新用户会话信息。")]),v._v(" "),l("li",[v._v("请求记录：记录请求的相关信息，用于日志和监控。")]),v._v(" "),l("li",[v._v("处理跨站请求伪造（CSRF）保护。")])])])])]),v._v(" "),l("li",[l("p",[v._v("视图处理")]),v._v(" "),l("ul",[l("li",[v._v("找到匹配的视图函数或视图类后，Django 调用相应的处理逻辑。")]),v._v(" "),l("li",[v._v("视图函数接收 HttpRequest 对象作为参数，并进行以下操作：\n"),l("ul",[l("li",[v._v("与模型交互，从数据库中获取或修改数据。")]),v._v(" "),l("li",[v._v("执行必要的业务逻辑计算。")]),v._v(" "),l("li",[v._v("准备响应的数据。")])])])])]),v._v(" "),l("li",[l("p",[v._v("异常处理")]),v._v(" "),l("ul",[l("li",[v._v("如果在视图处理过程中发生异常，Django 会尝试根据异常类型进行处理。")]),v._v(" "),l("li",[v._v("对于一些预定义的异常，如 404（页面未找到）、500（服务器内部错误）等，会调用相应的默认处理逻辑。")])])]),v._v(" "),l("li",[l("p",[v._v("模板渲染（如果需要）")]),v._v(" "),l("ul",[l("li",[v._v("如果视图返回的是一个模板响应，Django 会使用指定的模板引擎（如 Django 自带的模板语言或 Jinja2 等）来渲染模板。")]),v._v(" "),l("li",[v._v("模板引擎将模板与视图提供的数据结合，生成最终的 HTML 或其他格式的输出。")])])]),v._v(" "),l("li",[l("p",[v._v("中间件后处理（响应阶段）")]),v._v(" "),l("ul",[l("li",[v._v("生成的响应会再次经过中间件。")]),v._v(" "),l("li",[v._v("可能的处理包括：\n"),l("ul",[l("li",[v._v("对响应进行压缩，以减少数据传输量。")]),v._v(" "),l("li",[v._v("添加额外的响应头部，如缓存控制头部。")]),v._v(" "),l("li",[v._v("对响应内容进行修改或转换。")])])])])]),v._v(" "),l("li",[l("p",[v._v("返回响应")]),v._v(" "),l("ul",[l("li",[v._v("经过中间件处理后的最终响应被返回给客户端。")]),v._v(" "),l("li",[v._v("客户端接收并根据响应的内容（如 HTML 页面、JSON 数据等）进行相应的显示或处理。")])])])])])}),[],!1,null,null,null);_.default=n.exports}}]);